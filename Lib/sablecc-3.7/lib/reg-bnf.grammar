Package Compiler.SableCC.postfix;

Helpers

    digit                     = ['0' .. '9'];
    digit_not_zero            = ['1' .. '9'];
    tab                       = 9;
    cr                        = 13;
    lf                        = 10;
    space                     = ' ';
    int_num                   = '0' | digit_not_zero (digit)*;

Tokens

    /* keywords */
    create                    = 'create';
    if                        = 'if';
    else                      = 'else';
    while                     = 'while';
    for                       = 'for';
    end                       = 'end';
    do                        = 'do';
    function                  = 'function';
    foreach                   = 'foreach';
    in                        = 'in';
    then                      = 'then';
    int                       = 'int';
    real                      = 'real';
    vertex                    = 'Vertex';
    edge                      = 'Edge';
    graph_type                = 'Graph' | 'WeightedGraph' | 'DiGraph' | 'WeightedDiGraph';
    bool_literal              = 'true' | 'false';


    /* operators */
    plus                      = '+';
    minus                     = '-';
    mult                      = '*';
    div                       = '/';
    equals                    = '==';
    assign                    = '=';
    v_connector               = '--';

    /* separators */
    lparen                    = '(';
    rparen                    = ')';
    lbracket                  = '{';
    rbracket                  = '}';
    newline                   = 10;  /* ASCII for '\n' */
    comma                     = ',';
    blank                     = space | tab;

    /* numbers */
    integer_literal           = int_num;
    real_literal              = int_num '.' (digit)*;

    /* identifier */
    id                        = '';


    /* comment */

    /* end of file */
    eof                       = '$';
    lambda                    = '?';

Ignored Tokens
    blank;

Productions

    prog =
        main funcs_dcl eof

    main =
        function main() newline block end

    block =
        block_content newline block |
        lambda

    block_content =
        dcl |
        stmt |
        lambda

    dcl =
        create ADT end |
        number_types id initialization

    initialization =
        assign expr |
        lambda

    ADT =
        graph_ADT |
        collection_type

    graph_ADT =
        graph_type id newline graph_dcl

    graph_dcl =
        graph_vertex_dcl newline graph_dcl1

    graph_dcl1 =
        graph_dcl |
        lambda

    graph_vertex_dcl =
        id -- graph_vertex_dcl1

    graph_vertex_dcl1 =
        {vertex_list} |
        idweight

    vertex_list =
        idweight vertex_list1

    vertex_list1 =
        , vertex_list |
        lambda

    weight =
        [arith_expr] |
        lambda

expr					= and_expr A
A					= or and_expr
					 |   λ
and_expr				= equal_expr B
B					= and equal_expr
					 |   λ
equal_expr				= rel_expr C
C					=  equality_op rel_expr
					 |   λ
rel_expr				= arith_expr rel_expr1
rel_expr1				= relational_op arith_expr
					 |   λ
arith_expr				= term D
D					=  add_sub term
					 |   λ
term					= neg_expr E
E					=  mul_div_mod atomic_expr
					 |   λ
neg_expr				= neg atomic_expr
					 |   atomic_expr
atomic_expr			= (expr)
 |   value
value				= id value1
					 |   inum_val
					 |   fnum_val
					 |   boolean
value1				= function_call1
	 |   λ
function_call			= id function_call1
function_call1			= .function_call
					 |   (actual_parameters)
actual_parameters			= actual_parameter_list
					 |   λ
actual_parameter_list		= expr actual_parameter_list1
actual_parameter_list1		= , actual_parameter_list
					 |   λ
number_types			= int
 |   real

Statements
stmt					= id stmt1
					 |   loop
					 |   if_statement
stmt1				= function_call1
					 |   assignment
assignment				= assign expr
loop					= while_statement
					 |   for_statement
					 |   foreach_statement
while_statement			= while expr do \n block end
for_statement			= for id assign inum to inum do \n block end
foreach_statement			= foreach id in id do \n block end
					 |   foreach id in function_call do \n block end
if_statement			= if expr then block end
collection_type			= collection_token id collection_dcl
collection_dcl			= assign function_call
					 |   \n element_list
					 |   λ
element_list				= value \n element_list1
element_list1			= element_list
					 |   λ
funcs_dcl  				= func_dcl funcs_dcl
 |   λ
func_dcl 				= ret function id (formal_parameters) block end
ret					= type
 |   λ
formal_parameters			= formal_parameter_list
 |   λ
formal_parameter_list  		= formal_parameter formal_parameter_list1
formal_parameter_list1		= , formal_parameter_list
					 |   λ
formal_parameter 			= type id
type				            = object_types
					 |   boolean
					 |   number_types
object_types			= graph_type
					 |   collection_token
					 |   graph_element_types
graph_element_types		= Vertex | Edge




    expr =
        {factor} factor |
        {plus} expr plus factor |
        {minus} expr minus factor;


    factor =
        {term} term |
        {mult} factor mult term |
        {div} factor div term;


    term =
        {number} integer_literal |
        {expr} lparen expr rparen;